/* ===== Sidebar SCSS (tối ưu) ===== */
:host {
  --header-h: 70px;
  --sidebar-w: 260px;
  --primary: #2f6bff;
  --text: #2c3e50;
  --muted: #566a7f;
  --line: #eef1f5;
  --hover: #f6f8fb;
  --active-bg: #eaf2ff;
}

/* Khung sidebar */
.sidebar {
  position: fixed;
  top: var(--header-h);
  left: 0;
  width: var(--sidebar-w);
  height: calc(100vh - var(--header-h));
  background: #fff;
  border-right: 1px solid var(--line);
  overflow-y: auto;
  padding: 10px 0;
  z-index: 900;
}

/* Reset ul */
.sidebar-menu {
  list-style: none;
  padding: 0;
  margin: 0;
}

/* ===== GROUP (có submenu) ===== */
.menu-group {
  .group-btn {
    width: 100%;
    padding: 12px 16px;
    border: 0;
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: space-between;
    cursor: pointer;

    .left {
      display: flex;
      align-items: center;
      gap: 12px;

      i { width: 20px; text-align: center; color: var(--muted); }
      .text { font-weight: 600; color: var(--text); }
    }
    .caret { color: #778; }
    &:hover { background: var(--hover); }
  }

  /* Submenu */
  .submenu {
    list-style: none;
    padding: 6px 0 8px;
    margin: 0;

    .submenu-item {
      .submenu-link {
        width: 100%;
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 10px 16px 10px 44px; /* thụt vào như UI mẫu */
        color: #334155;
        text-decoration: none;
        background: transparent;
        border: 0;
        text-align: left;
        cursor: pointer;

        .bullet { width: 12px; text-align: center; color: #9aa8b6; }
        &:hover { background: #eef5ff; }
      }

      /* Active (Angular gắn .active lên <li>) */
      &.active .submenu-link {
        background: var(--active-bg);
        color: var(--primary);
        font-weight: 600;
        position: relative;
      }
      &.active .submenu-link::before {
        content: '';
        position: absolute;
        left: 0; top: 0; bottom: 0;
        width: 3px;
        background: var(--primary);
      }
    }
  }
}

/* ===== LEAF (không có submenu) ===== */
.menu-leaf {
  .leaf-link {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px 16px;
    color: var(--text);
    text-decoration: none;

    i { width: 20px; text-align: center; color: var(--muted); }
    &:hover { background: var(--hover); }
  }

  /* Active (Angular gắn .active lên <li>) */
  &.active .leaf-link {
    background: var(--active-bg);
    color: var(--primary);
    font-weight: 600;
    position: relative;
  }
  &.active .leaf-link::before {
    content: '';
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 3px;
    background: var(--primary);
  }
}

/* Nút <button> giả link */
.btn-as-link {
  background: transparent;
  border: 0;
  cursor: pointer;
  color: inherit;
}

/* ===== Responsive ===== */
@media (max-width: 992px) {
  :root { --sidebar-w: 72px; }

  /* Ẩn text, giữ icon */
  .group-btn .left .text,
  .menu-leaf .leaf-link .text,
  .submenu .submenu-link span { display: none; }

  /* Thu gọn submenu khi hẹp */
  .submenu .submenu-link { padding-left: 22px; }
}
